language: python
cache: pip
sudo: false

# Test environments
matrix:
  include:
   - env: TOXENV=py36
     python: 3.6
     dist: xenial
     sudo: true
   - env: TOXENV=py37
     python: 3.7
     dist: xenial
     sudo: true
   - env: TOX_ENV=lint
     python: 3.7
     dist: xenial
     sudo: true

# Package installation
install:
  - pip install -U tox
  - pip install tox coveralls

# Run tests
script:
  tox -e $TOX_ENV

# Register code coverage in coveralls
after_success:
  coveralls